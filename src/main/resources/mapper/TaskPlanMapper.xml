<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.product.mapper.TaskPlanMapper">
    <resultMap id="DicMb" type="java.util.Map">
        <result column="CODE" property="code"/>
        <result column="NAME" property="name"/>
    </resultMap>
    <select id="DicCampus" parameterType="java.util.Map" resultMap="DicMb">
        select bh code,name from campus_info
    </select>
    <insert id="InsTaskBase" parameterType="java.util.Map">
        insert into task_baseinfo (rwbh,task_name,kssj,jssj,hfgz,rksj,hfbh)
                                    values
                                  (#{rwbh},#{task_name},#{kssj},#{jssj},#{hfgz},#{rksj},#{hfbh})
    </insert>
    <insert id="InsTaskDet" parameterType="java.util.Map">
        insert into task_detailed (rwbh,user_student_id,rksj)
                                    VALUES
                                <foreach collection="userList" item="item" index="index" separator=",">
                                    (#{rwbh},
                                    #{item.user_student_id},
                                    #{rksj}
                                    )
                                </foreach>
    </insert>
</mapper>
